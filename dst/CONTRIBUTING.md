# React Native へのコントリビュート

React Native は Facebook のはじめてのオープンソースプロジェクトのひとつです。開発が非常に活発で、 [facebook.com](https://facebook.com) のみなさんにコードを配布するためにも使われています。我々はこのプロジェクトに気軽かつ透明性高くコントリビュートしていただくためにいろいろな問題へ対処中ですが、まだそこまでいたっていません。このドキュメントがコントリビュート方法を明確にし、あなたが持っている質問を解消することを願っています。

## 開発プロセス

コアチームメンバーのうち、数名は GitHub 上で直接作業しています。これらの変更は最初から公になされます。その他の変更は Facebook 内部のソース管理ツール由来のものになります。これは Facebook 外のコアチームメンバーが慣れた環境から迅速にコントリビュートするために必要なものです。

### `master` は安定していない

`master` が安定するよう、常にテストがすべて通るよう気を使っています。しかしすばやく開発を進めるために、互換性のない API 変更をすることがあります。こういった変更やバージョンについては適切に連絡するよう気をつけていますので、必要であれば特定バージョンを使い続けることも可能です。

### プルリクエスト

コアチームメンバーはプルリクエストを見ています。プルリクエストをもらうとまず、 Facebook での統合テストを実施します。その後マージされるためには、誰かによって承認される必要があります。 API 変更については Facebook 内部での使用にあたって問題解決をする必要があるため、時間をいただくことがあります。そういったプロセスについての最新情報やフィードバックを提供できるように最善を尽くします。

**プルリクエストは `master` ブランチに送ってください。**もし修正がクリティカルなもので、 stable なブランチにも取り込まれる必要のあるものの場合、その旨を伝えてください。プロジェクトのメンテナーによって cherry-pick されます。

プルリクエストを送る*前に*、次が完了していることを確認してください。

1. リポジトリーをフォークして `master` からあなたのブランチを生やしてください。
2. **テストプランをコミットメッセージに書いてください。**
  - テストが必要なコードを追加した場合、テストも追加してください !
  - API を変更した場合、ドキュメントも更新してください。
  - ドキュメントを更新した場合、可能であれば Web サイトを手元で確認してスクリーンショットを送ってください。

  ```
  $ cd website
  $ npm install && npm start
  次をブラウザーで開いてください: http://localhost:8079/react-native/index.html
  ```

3. 新規追加したすべてのファイルの先頭に著作権表示を記載してください。
4. Travis CI / CircleCI のテストが通ることを確認してください。
5. 静的解析がとおることを確認してください (`node linter.js <変更・追加したファイル>`) 。
6. まだ同意していない場合、 [CLA](https://code.facebook.com/cla) に同意してください。
7. コミットをひとつにまとめてください (`git rebase -i`) 。

   コミットをひとつにまとめる目的はレビュー者に対してあなたの意図を理解しやすくすることです。

> **注意:** プルリクエストページの `Merge master to your branch` を押し続ける必要はありません。コンフリクトした場合、テストが通らなかった場合は master をマージする必要があります。 Facebook-GitHub-Bot は最終的にマージする前にすべてのコミットをひとつにまとめます。

#### ファイルの著作権表示

次の文面を新規追加したファイルの先頭にコピー & ペーストしてください。

```JS
/**
 * Copyright (c) 2015-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 */
```

新しいモジュールを追加した場合、コメントの最後に `@providesModule <モジュール名>` を追加してください。 haste パッケージマネージャーがモジュールを見つけ出すために必要なものです。

### Contributor License Agreement (CLA)

あなたのプルリクエストを受けいれるにあたって CLA に同意していただく必要があります。これは一度やれば大丈夫です。その他のオープンソースプロジェクトですでに登録済みの場合、特になにもする必要はありません。はじめてプルリクエストを送る場合、 CLA に同意したことを教えてください。あなたの GitHub ユーザー名でクロスチェックします。

[こちらから CLA に同意してください](https://code.facebook.com/cla)

## バグ

### 既知の問題

わかっているバグは GitHub Issues を使って管理しています。我々はいつも見て、内部の問題に進展があったとき、それが公になるように努めています。新しい問題を登録する前に、同様の問題がすでに登録されていないか探してください。

### 新しい問題を報告する

バグを修正するにあたって最も良い方法はテストケースを減らすことです。実行可能な public リポジトリーか、 [Sketch](https://sketch.expo.io/) による例を提供してください。

### セキュリティに関するバグ

Facebook にはセキュリティに関するバグを安全に開示するための[賞金プログラム](https://www.facebook.com/whitehat/)があります。公の issue として登録する前に賞金プログラムを参照し、指示に従ってください。

## 連絡方法

* [Facebook](https://www.facebook.com/groups/react.native.community/)
* [Twitter](https://www.twitter.com/reactnative)

## スタイルガイド

### コード

#### 全般的に

* **超重要: まわりとあわせること。**プロジェクトですでに使われているスタイルとあわせてください。これは整形、命名規則、ドキュメントの書き方にも当てはまります。
* [trailing commas](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Trailing_commas) を追加してください ( 訳注: リンクは翻訳者によるものです )
* インデントは半角スペース 2 つとしてください ( タブ文字は使わないでください )
* "キレイなコードを書いてください"

#### JavaScript

* セミコロン `;` を使ってください
* `'use strict';`
* `"` ではなく `'` を使ってください
* `setTimeout` と `setInterval` の第 3 引数は使ってはいけません
* 1 行は 80 文字に抑えてください

#### JSX

* props に文字列リテラルを指定する場合 `'` ではなく `"` を使ってください
* 開きタグを複数行にする場合、 1 行に 1 つの props を書いてください
* props に `{}` を指定する場合、間に半角スペースを入れないでください
* 開きタグの `>` は最後の props と同じ行に書いてください
* 空要素の `/>` は上に照らし合わせて適切な位置に書き、 `<` の位置で左寄せしてください

#### Objective-C

* `@property` 宣言の後ろにスペースをいれてください
* *すべての* `if` で*同じ*行にカッコを付加してください
* `- method` 、 `@interface` 、 `@implementation` のカッコは次行に書いてください
* *できるだけ* 1 行を 80 文字でおさめるようにしてください ( たまに不可能なことがあります… )
* `*` 演算子は変数名にくっつけてください ( 例 `NSObject *variableName;` )

#### Java

* メソッド呼び出しが複数行に渡る場合、閉じカッコは最後の引数と同じ行に書いてください
* メソッドヘッダーが 1 行におさまらない場合、複数行にわけてください
* 1 行を 100 文字でおさめてください

### ドキュメント

* 80 文字で改行しないでください。ドキュメントを変更する際はエディターの soft-wrap を設定してください

## ライセンス

React Native へのコントリビュートはすべて BSD ライセンスが適用されます。
